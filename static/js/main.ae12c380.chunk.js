(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{203:function(e,t,a){e.exports=a(420)},388:function(e,t,a){},417:function(e,t){},420:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(57),l=a.n(r),c=a(34),i=a(62),s=a(160),m=a(161),u=a(58),d=a(174),h=a(173),C=a(423),y=a(424),v=a(427),g=a(425),k=a(426),E=(a(208),a(18)),p=(a(388),a(171)("wss://le-18262636.bitzonte.com",{path:"/stocks"})),b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={exchange:{},stocks:{},ready_stock:!1,ready_exchange:!1,on:!0},e.disconnect=e.disconnect.bind(Object(u.a)(e)),e}return Object(m.a)(a,[{key:"getInitialStock",value:function(){var e=this;console.log("hola");var t={};p.emit("STOCKS"),p.on("STOCKS",(function(a){for(var n in console.log(a),a)t[a[n].ticker]={company_name:a[n].company_name,country:a[n].country,total_volume:0,higher:0,lower:0,last_price:0,porcentual_change:0,data:[]};e.setState({stocks:t,ready_stock:!0})}))}},{key:"getInitialExchange",value:function(){var e=this,t={},a={};p.emit("STOCKS"),p.on("STOCKS",(function(e){a=e})),p.emit("EXCHANGES"),p.on("EXCHANGES",(function(n){for(var o in n)for(var r in t[n[o].exchange_ticker]={company_ticker:[],exchange_name:n[o].name,country:n[o].country,stocks:Object(i.a)(n[o].listed_companies),total_volume:0,sell_volume:0,buy_volume:0,quantity:Object(i.a)(n[o].listed_companies).length,participation:0},a)n[o].listed_companies.indexOf(a[r].company_name)>=0&&t[n[o].exchange_ticker].company_ticker.push(a[r].ticker);e.setState({exchange:t,ready_exchange:!0})}))}},{key:"updateStock",value:function(){var e=this;p.on("UPDATE",(function(t){if(e.state.ready_stock&&e.state.ready_exchange){var a=new Date(1e3*t.time),n=a.getHours()+":"+("0"+a.getMinutes()).substr(-2),o=Object(c.a)({},e.state.stocks);o[t.ticker].data.push({time:n,value:t.value}),(0===o[t.ticker].lower||o[t.ticker].lower>t.value)&&(o[t.ticker].lower=t.value),o[t.ticker].higher<t.value&&(o[t.ticker].higher=t.value),o[t.ticker].porcentual_change=Math.round(100*(100*t.value/o[t.ticker].last_price-100))/100,o[t.ticker].last_price=t.value,e.setState({stocks:o})}}))}},{key:"tickerBuy",value:function(){var e=this;p.on("BUY",(function(t){if(e.state.ready_stock&&e.state.ready_exchange){var a=Object(c.a)({},e.state.stocks),n=Object(c.a)({},e.state.exchange),o=0;for(var r in a[t.ticker].total_volume=t.volume+a[t.ticker].total_volume,n)n[r].company_ticker.indexOf(t.ticker)>=0&&(n[r].buy_volume=t.volume+n[r].buy_volume,n[r].total_volume=t.volume+n[r].total_volume),o+=n[r].total_volume;for(var l in n)n[l].participation=Math.round(100*n[l].total_volume/o*100)/100;e.setState({stocks:a,exchange:n})}}))}},{key:"tickerSell",value:function(){var e=this;p.on("SELL",(function(t){if(e.state.ready_stock&&e.state.ready_exchange){var a=Object(c.a)({},e.state.stocks),n=Object(c.a)({},e.state.exchange),o=0;for(var r in a[t.ticker].total_volume=t.volume+a[t.ticker].total_volume,n)n[r].company_ticker.indexOf(t.ticker)>=0&&(n[r].sell_volume=t.volume+n[r].sell_volume,n[r].total_volume=t.volume+n[r].total_volume),o+=n[r].total_volume;for(var l in n)n[l].participation=Math.round(100*n[l].total_volume/o*100)/100;e.setState({stocks:a,exchange:n})}}))}},{key:"disconnect",value:function(){p.connected?(p.disconnect(),this.setState({on:!1})):(p.connect(),this.setState({on:!0}))}},{key:"componentDidMount",value:function(){this.getInitialStock(),this.getInitialExchange(),this.updateStock(),this.tickerSell(),this.tickerBuy()}},{key:"render",value:function(){if(this.state.ready_stock&&this.state.ready_exchange){var e=this.state.stocks,t=this.state.exchange,a=this.state.on;return o.a.createElement("div",{className:"container",style:{backgroundColor:"#2C2F38"}},o.a.createElement("div",{style:{width:"90vw",marginBottom:"40px"}},o.a.createElement(C.a,null,o.a.createElement(y.a,{md:{span:3,offset:4}},o.a.createElement("div",{style:{justifyContent:"center",textAlign:"center"}},o.a.createElement("h3",{style:{fontSize:"26px",fontWeight:"bold",color:"#FCACB8"}},"Stock Exchange Market"))),o.a.createElement(y.a,{md:{span:2,offset:3}},o.a.createElement(v.a,{variant:"secondary",size:"sm",onClick:this.disconnect},a?"Desconectar Socket":"Conectar Socket")))),Object.keys(t).map((function(a,n){return o.a.createElement("div",{style:{width:"90vw",marginBottom:"35px"}},o.a.createElement(C.a,{style:{backgroundColor:"#2C2F38"}},o.a.createElement(y.a,{xs:12,md:6},o.a.createElement("p",{style:{fontSize:"20px",fontWeight:"bold",color:"white",textTransform:"uppercase"},key:n},t[a].exchange_name)),o.a.createElement(y.a,{xs:6,md:6},o.a.createElement(g.a,{className:"table table-sm table-bordered"},o.a.createElement("thead",null,o.a.createElement("tr",{style:{color:"#8C8F9C",fontSize:"12px"}},o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Volumen Compra"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Volumen Venta"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Volumen Total"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Cantidad Acciones"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Participaci\xf3n Mercado"))),o.a.createElement("tbody",null,o.a.createElement("tr",{style:{color:"white",fontSize:"14px"}},o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},t[a].buy_volume),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},t[a].sell_volume),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},t[a].total_volume),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},t[a].quantity),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},t[a].participation)))))),o.a.createElement(C.a,null,Object.values(t[a].company_ticker).map((function(t,a){return o.a.createElement(y.a,{xs:6},o.a.createElement(k.a,{align:"center",width:"150%"},o.a.createElement("p",{style:{fontSize:"16px",color:"white"},key:a},e[t].company_name),o.a.createElement("p",{style:{fontSize:"14px",color:"#8C8F9C"}},e[t].country," - ",t),o.a.createElement(E.d,{height:300,width:"100%"},o.a.createElement(E.c,{width:650,height:350,data:Object(i.a)(e[t].data),margin:{top:5,right:30,left:20,bottom:5}},o.a.createElement(E.a,{strokeDasharray:"3 3",stroke:"#8C8F9C"}),o.a.createElement(E.f,{stroke:"#8C8F9C",dataKey:"time"}),o.a.createElement(E.g,{stroke:"#8C8F9C",domain:["dataMin - 10","dataMax + 10"]}),o.a.createElement(E.e,{itemStyle:{fontWeight:"bold"},formatter:function(e,t){return"USD ".concat(e)},labelFormatter:function(e){return"time: ".concat(e)}}),o.a.createElement(E.b,{type:"monotone",dataKey:"value",stroke:"#E95765",fill:"#E95765",strokeWidth:"3"}))),o.a.createElement(C.a,{style:{marginTop:"20px",marginLeft:"20px"}},o.a.createElement(g.a,{className:"table table-sm table-bordered"},o.a.createElement("thead",null,o.a.createElement("tr",{style:{color:"#8C8F9C",fontSize:"12px"}},o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Volumen Total"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Alto Hist\xf3rico"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Bajo Hist\xf3rico"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"\xdaltimo Precio"),o.a.createElement("th",{style:{borderColor:"#8C8F9C"},align:"center"},"Cambio Porcentual"))),o.a.createElement("tbody",null,o.a.createElement("tr",{style:{color:"white",fontSize:"14px"}},o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},e[t].total_volume),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},e[t].higher),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},e[t].lower),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},e[t].last_price),o.a.createElement("td",{style:{borderColor:"#8C8F9C"},align:"center"},e[t].porcentual_change)))))))}))))})))}return o.a.createElement("div",{className:"container"})}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.ae12c380.chunk.js.map